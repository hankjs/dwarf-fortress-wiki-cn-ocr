{{Quality|Fine}}
{{av}}

{{DFtext|Dwarf cancels construction of Wall: Creature occupying site}}

当矮人试图建造[[wall|墙]]时,这个错误经常发生,矮人选择站在了将要建造墙的格子上。{{bug|5991}} 这似乎是为了防止矮人把自己墙在要塞外而进行的改动所带来的后果。

要解决这个问题,请尝试以下方法(大致按难度排序):

* 取消建造,然后重新发布任务。
* 指定"限制"[[traffic|交通]]区域,强制矮人从更有利的方向接近建造地点。
* 如果墙是建在[[soil|土壤]]或其他天然地板上,可以[[channel|挖渠]]建造地点来防止矮人站在那里(墙可以建在开放空间上,只要有相邻的地板格子)。注意,如果建造地点的唯一通道是对角线,这个方法'''不会'''有效。
* 创建一条通往建造地点的替代路径(挖掘隧道、移除墙壁或建造[[floor|地板]])。


为了避免这个问题,请尝试遵循最佳实践:

* 不要在矮人站立的格子上提交建造任务。
* 对于狭小空间的建造,首先提交任何"有问题"的格子,等待它们被建好,然后再提交其余部分。
* 对于开阔地带的大型建造,使用{{k|u}}或{{k|k}}一次性提交所有任务。
* 不要发布会故意困住建造者的建造命令——与其把自己墙在外面,他们会导致这个错误(这仍然比默默饿死要好)。
* 如果预计会有问题,可以预先指定限制[[traffic|交通]]区域或[[channel|挖渠]]建造地点。

绕过这个问题的另一种方法是在该格子上先建造一个地板,然后移除它并立即在其位置建造墙,矮人会从建造地板时站在墙的一侧。


==解释==
要成功建造墙,建造者到建造地点的路径必须经过一个允许建造的相邻格子。有几个原因可能导致这种情况不发生,从而使建造者站在建造地点上:

如果建造者已经站在建造地点上,那么不会进行路径规划;建造者会直接"选择"建造地点。当建造者不在建造地点上时取消并重新提交工作命令将解决这个问题。

如果建造者选择的路径后来变得无法通行(例如,由于另一个建造正在建造),建造者会选择站在建造地点上,而不是选择另一个有效的相邻格子。在这种情况下,取消并重新发布建造命令将导致建造者重新规划路径,解决问题。

如果到建造地点的最短路径只穿过不合适的格子(最常见的是因为斜坡),那么建造者会选择站在建造地点上。在这种情况下,重新发布建造命令是不够的;必须鼓励建造者从不同方向接近建造地点(使用交通指定、建造、锁门等)。

在所有情况下,使建造地点无法通行(通过挖渠)将强制建造者经过并站在一个可接受的相邻格子上;如果不存在这样的路径,则无法提交建造命令。

{{Errors FAQ}}
{{Category|Errors}}
[[ru:Dwarf cancels construction of Wall: Creature occupying site]]
