{{Quality|Fine}}
{{av}}

{{DFtext|矮人取消建造墙壁:生物占据位置}}

当矮人试图建造[[wall|墙壁]],却选择站在即将建造墙壁的方格上时,这个错误会经常发生。{{bug|5991}} 这似乎是为了防止矮人把自己墙出要塞之外的改动所带来的后果。

要解决这个问题,请尝试以下方法(大致按难易程度排序):

* 取消建造,然后重新发布工作。
* 指定"限制"[[traffic|交通]]区域,强制矮人从更有利的方向接近建筑工地。
* 如果墙壁要建在[[soil|土壤]]或其他天然地板上,[[channel|挖槽]]建筑工地以防止矮人站在那里(墙壁可以建在开放空间上,只要有相邻的地板方格)。注意,如果建筑工地的唯一通道是斜向的,这个方法将'''不会'''起作用。
* 创建通往建筑工地的替代路径(挖掘隧道、移除墙壁或建造[[floor|地板]])。


要避免这个问题,请尝试遵循最佳实践:

* 不要在矮人站立的方格上提交建筑工作。
* 对于狭窄空间中的建造,首先提交任何"有问题的"方格,等待它们被建成,然后再提交其余部分。
* 对于开放空间中的大型建造,使用{{k|u}}或{{k|k}}一次性提交所有工作。
* 不要发布会故意困住建造者的建造指令——他们不会把自己墙在外面,而是会导致这个错误(这仍然比默默饿死要好)。
* 如果你预期会有问题,预先指定限制[[traffic|交通]]区域或[[channel|挖槽]]建筑工地。

另一种绕过这个问题的方法是在该方格上先建造地板,然后移除它并立即在原位置建造墙壁,矮人在建造地板时会站在墙壁的旁边。


==解释==
要成功建造墙壁,建造者通往建筑工地的路径必须经过一个允许建造的相邻方格。有几个原因可能导致这种情况未发生,从而使建造者站在建筑工地上:

如果建造者已经站在建筑工地上,则不会执行寻路;建造者会简单地"选择"建筑工地。当建造者不在建筑工地上时取消并重新提交工作指令将解决这个问题。

如果建造者选择的路径后来变得无法通行(比如,由于另一个建筑正在被建造),建造者会选择站在建筑工地上,而不是选择另一个有效的相邻方格。在这种情况下,取消并重新发布建造指令将使建造者重新寻路,从而解决问题。

如果通往建筑工地的最短路径只经过不合适的方格(最常见的是因为斜坡),建造者会选择站在建筑工地上。在这种情况下,重新发布建造指令是不够的;必须鼓励建造者从不同方向接近建筑工地(使用交通指定、建造、上锁的门等)。

在所有情况下,使建筑工地无法通行(通过挖槽)将强制建造者寻路通过并站在可接受的相邻方格上;如果不存在这样的路径,则无法提交建造指令。

{{Errors FAQ}}
{{Category|Errors}}
[[ru:Dwarf cancels construction of Wall: Creature occupying site]]
