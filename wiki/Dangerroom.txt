{{migrated article}}
{{Quality|Unrated}}
{{projects}}{{av}}
 
'''Danger room''' was a term used to describe a place your dwarves go to be continually poked by [[Trap#Upright Spear/Spike|upright spikes]]. This served two purposes: first, it [[Train|trained]] your dwarves in [[Combat_skill#Equipment_skills|Armor User skill]], [[Combat_skill#Equipment_skills|Shield User]], [[Combat skill|Dodger]] and to some extent also [[Combat_skill#Weapon_skills|weapons skills]] (if they manage to block attacks with them). Second, it helped keep your [[doctor]]s' skills from rusting, and your [[coffin]] makers busy. 

Some people considered danger rooms an [[exploit]], because they required next to no effort to build your dwarves' combat skills to legendary.{{bug|3855}}

{{TipBox2|clear=none|width=50%|titlebg=#c00|textbg=#ffd|Warning!|Danger rooms are dangerous! For fewer deaths, set up small-group [[sparring]] instead.}}

In previous versions, danger rooms were a useful workaround for regular [[training]] being too slow and difficult for new players to figure out. However, recent modifications to the combat system have made danger rooms quite dangerous and barracks training significantly more effective, so small-group [[sparring]] is currently the recommended training regimen.

== Loadout ==
The first design challenge is to provide the proper level of lethality.  Do '''not''' use actual spears. Do '''not''' use menacing spikes, even if they are made of wood. Only use training spears. Up to ten spears may be placed in a single tile. If you want a lot of coverage and don't have much wood, one will suffice. The more spears are in a tile, the faster a danger room will work. Ten training spears will do just as much damage as one training spear, with the only difference being that bruised ears and broken thumbs might appear a little faster.

Additionally, it is *very* important to make sure that the dwarves you plan to train are indeed fully covered by [[armor]] or clothing.  It helps to include a robe, which covers much of the body.  Dwarves that have any body part completely exposed are very likely to be skewered, fatally.  Even a damaged nose or ear can lead to infection.  For the same reason, a corridor of tightly-closed doors before the danger room is encouraged to prevent unnecessary puppy killing.

== Access control ==
The second design challenge is access control.  If you want your entire fortress to <strike>spank</strike> face these perils, then put the spikes in a major hallway.  If you want only your military to be trained, put them in or behind a barracks, a patrol route, or some other place civilians are unlikely to go. Mind that while training spikes are mostly harmless to armored adult dwarves, such traps are perilous for small animals, babies and children. A pond with a bridge on the access route can help with unwanted g̶o̶r̶e̶  fun! The bridge can be linked to a repeater control switch. WARNING you may no longer have access to dead cats!

== Triggers ==
The third challenge is providing an appropriate triggering frequency.  Some signal must be sent to raise and lower the spikes while the dwarves are on them.  This can be accomplished by hooking the spikes to a [[lever]] or [[pressure plate]], or by using a [[repeater]].  If a lever is used, then it should be near the room, so you can keep track of what's happening in the room while still knowing where the control lever is.

== Results ==
The idea is that as dwarves stand on the trapped tiles, every time the spikes come out of the ground due to the trap being activated, they gain skills in whatever stops it - armor if their armor deflects it, weapon if they block it with their weapon, shield for shield, and dodging if they jump out of the way.  Crossbow-armed dwarves gain skill as hammerdwarves, not marksdwarves, because they are using the crossbow as a melee weapon to block.  As written here [http://www.bay12forums.com/smf/index.php?topic=85894.0], pick-armed dwarves get trained into ''legendary miners''.

== Specific Design Suggestions ==

Here are a few specific designs.

=== Minecart dodging ===

Because it never hits the dwarf, this danger room can be safely used while naked even in modern versions, but it can be used by only exactly 1 dwarf at a time, and only trains dodging.

{{diagram|spaces=yes|\
 ═════╗  %% Screw pump, pumping from west
 ⛭%%╟╢║  + Door
 ═════+  ╟ Roller on EW track, rolling east (Lowest speed)
         ╢ Roller on EW track, rolling west (Lowest speed)
         ⛭ gear assembly}}

To use, have a dwarf carry a wooden [[minecart]] inside and place it on the [[roller]] next to the [[screw pump]], then lock the door so nothing else enters.

With exactly 1 dwarf inside, said dwarf will gain roughly 1000 experience in dodging per day.

To stop using, turn off power and unlock the door to let the dwarf leave.

For reuse, carry out the minecart, and optionally on the tile for the door dig a channel, construct floor, then deconstruct floor after building the door (so that the dwarves don't drop old clothes or buckets inside the door). 

(The screw pump is there to transfer power to roller while providing a wall.)

=== One tile, extendable===

If you set the [[Door|door]] to locked, the soldiers will only have the spike tile as their barracks, for great efficiency. They will all stack on this one tile and train. Set the door to ''Internal'' to adjust the size of the barracks as needed. You might have to unlock the door for new squads so they can path to the armor stand once.

{{diagram|spaces=yes|\
 ═════╗  ^ Spikes
   ^+♫║  + Door
 ═════╝  ♫ Armor stand}}

=== Simple minimal manual danger room ===

Create a 1x4 room with each of the four tiles having upright spikes with training spears in them. A full room will, of course, require making 40 training spears. As always you can load each tile with less than 10 training spears if you need to, but additional spears help train [[armor user|armor use]] (only a single spear can be used to help train weapon skills at a time). Place a door on the room and forbid pets, or pasture all the pets. (See [[#Caveats|Caveats]] below.) Place a lever outside and link the lever to all four spike sets.

Equip your units with full armor, a shield, and ideally make them all wear a cloak to help protect the face. (The cloak will actually stop most of the hits to the body.) Manually order your unit(s) to move to the far tile of the room and lock the door once they're all in. (They won't all move to this tile, but they should move to within 3 tiles of it fitting them all into the room.) (It does not appear to matter if you have a multitude of dwarves packed into 4 tiles.) Add a (P)ull The Lever task to the lever and set it to (r)epeat. Leave the dwarves inside until they start to get unhappy from the long "patrol" then let them leave. This trains the Shield skill very quickly. However, if you want to quickly train Weapon skills, make the dwarves unequip the shield before entering the room.

A larger than 1x4 room may work better for training dodging but this is unverified. You can easily enlarge your danger room without constructing excessive training spears and mechanisms by installing [[statue]]s along the walls. Dwarves will dodge into statue tiles, then step back out onto the spiked floor for more "training". (Using statues can sometimes result in body parts getting lodged under/behind them, which causes endlessly failing attempts to "Place item in Tomb" stating that the item was misplaced. This only happens if you have a death in the room of course, but to avoid the issue you can deconstruct the statues, or don't use them in the first place.)

=== Simple semi-automated danger room ===

As above, but use [[scheduling]] along with a [[burrow]] to cycle trainees through the room. Define a burrow that covers the inside of the room, then schedule some number of dwarves per unit to "Defend The Burrow". Add a repeating pull the lever task to the lever. The dwarves will rotate through the danger room according to schedule. The constant lever pulling will of course require a dwarf.

=== Fully automated danger room ===

Same as above, but use a [[repeater]] to eliminate the need for a lever pulling dwarf. The advantage is that you no longer need a dwarf to pull the lever repeatedly, but a repeater is somewhat complex to set up and is slower than a repeating lever pull task.

=== Semi or fully automated fort-wide danger room ===

Instead of placing the training spear "spikes" in a room, place them in a high traffic area of the fort and use one of the methods above to set up repeating extension/retraction of the spikes. Over time this will expose most or all of your dwarves to the spear attacks, but it is advisable to make sure that all of the dwarves are at the very minimum wearing a cloak to protect them from injury, and ideally wearing full armor.

Doing this will probably kill all of your animals eventually unless they're confined to a [[pasture]] or otherwise confined, and will eventually kill all infants (and possibly children) unless child-carrying females and children are somehow forbidden from the area using a [[burrow]].

=== Coinstar room ===

As a complement to a standard danger room, a '''coinstar''' or '''popcorn''' room trains [[armor user]] skills via repeated (unblockable/undodgeable) impacts of small objects such as [[coin]]s. The safest training material is currently unknown (since the bug which made coins completely harmless has been fixed), though [[coin]]s ([[Exploit#Infinite_Adamantine_.2F_Metals|split]] into stacks of 15 or smaller), [[seed]]s, [[sock]]s, [[leaves]], and other small, light objects are likely contenders. Note that unarmored dwarves may experience injuries; a full suit of armor is recommended for coinstar training.

To construct a coinstar room, first dig a small 1x2 trench, then build two 1x1 '''retracting''' bridges on the '''floor''' of the trench (shown in green), and connect them to a [[lever]], [[pressure plate]], or [[repeater]] (not shown). 

{{diagram|spaces=yes|\
  z-1  ║   z 
  ╔═╗  ║  +++   
  ║[#0D0]╬║  ║  +▼+
  ║[#0D0]╬║  ║  +▼+
  ╚═╝  ║  +++}}

Please note that, although the bridges cover the up ramps they are still usable; adding another way out is not necessary. Do, however, remove any loose stones or other large objects in the trench. You should also avoid constructing any extraneous tunnels within 3 tiles on the bridge level, or your dwarves may stand there instead of in the coinstar room when you issue them a station order.

To fill your coinstar room, designate a [[dump]] zone on the top level immediately adjacent to the trench. After making sure that all other dump zones are disabled (and all other refuse is *not* marked for dumping), dump 100-1000 small objects into the pit (more objects = faster training). Once filled, disable the dump zone and verify that your dwarves didn't dump any platinum bars or loose stone into the pit.

To activate the coinstar room, station a dwarf in the chamber, then have another dwarf {{k|P}}ull the Lever/R, trigger the pressure plate, or engage the repeater. The objects will be flung about in the chamber, hitting your dwarf repeatedly and providing 9 armor-user xp per impact and increase in all "military" stats. When training is complete, remove your trained dwarf with a station order (canceling the original station order will cause your trainee to drop any worn out clothes, which might prove deadly to future occupants). 

Training a single dwarf at a time is recommended because only the "top" unit in a stack will be hit by flying objects. This method does not train weapons, shield use, or dodging, but it quickly trains Armor User and, more importantly, increases vital stats. There are some advantages to using slightly larger objects such as cats (injuries train [[Attribute#Willpower|willpower]] and [[hospital]] staff), however [[Health care#Infection|infection]]s from broken ears can prove quite deadly. Read the [http://www.bay12forums.com/smf/index.php?topic=117154.msg3659504#msg3659504 original forum thread] for more useful information (including [http://www.bay12forums.com/smf/index.php?topic=117154.msg3854543#msg3854543 how to split coin stacks], passive training method and dangers of it).

NOTE: there is an easier way to train armor user. Order the squads to station but then deactivate them after locking the door. They will strap their weapons and shields to their upper bodies and the only thing that stops the spears will be armor. This is less micromanagement than ordering items dumped and hatches opened continuously.

===Pool 'o' Fun===

It's possible to simultaneously train [[Swimmer|swimming]] by arranging a means of flooding your danger room and locking your military within. (A depth of 4/7 is recommended, but you can fill it up to 6/7 if you <s>dare</s> want.)

== Caveats ==
Note that pets will attempt to follow soldiers into the danger room, getting perforated in the process, and leaving corpses and causing [[thought|unhappy thoughts]]; if there is a refuse stockpile or tomb that the pet can go to, a flood of job cancellation messages may result until the spikes cease their triggering. The same applies if a soldier who is carrying an infant enters the danger room. 

Pets (even non-grazers) can be put in a [[pasture]] for their safety. Alternately, having the door to the room set to "Keep tightly closed" prevents ''most'' pet deaths, but one may occasionally slip through.

To deal with the babies, you can either avoid recruiting (married) females into your military, or you can create male-only squads which you send into the danger room. Once you have dwarves who are very experienced in dodging and shield use, they will be able to train other dwarves much faster than if you simply have beginners training with each other. You can disband your male-only squads when the males are experienced enough, and mix them into all of your squads so that they can help train the rest of the soldiers.

Some players consider children a waste of resources. Letting them get speared does provide extra practice for your medical dwarves, but you'll also need extra tombs, and to make sure there's enough alcohol on hand so the parents can quickly drown their sorrows - legendary fighters cause [[Fun|legendary tantrum spirals]].

Using danger rooms or coinstar rooms is especially Fun in the current version, for it will almost certainly wound or kill anyone who uses it.{{version|0.43.04}}

==Mod exploitation of danger rooms==
If you are not averse to cheating-by-modding, change the required skill for a weapon in the weapon raw text. Dwarves will gain that skill while in a danger room at the same prodigious rate. In this way it is possible to train legendary marksdwarves or even teachers using training axes.

==Note==
Keep in mind that after using the danger room for a long period of time your dwarves will eventually grow [[Attachment|attached]] to a worn or wielded item. This is particularly bad when all of your military dwarves are wearing civilian clothing; try to avoid training improperly equipped soldiers unless it is an emergency.

{{Translation| dwarven = kezat mosus | elvish = eduma imira | goblin = ugot xustxu | human = ases coni}}

{{Military}}
[[ru:Danger room]]