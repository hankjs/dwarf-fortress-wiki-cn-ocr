{{migrated article}}
{{av}}
{{Quality|Unrated}}

There comes a time in every dwarf's life when he says to himself, "Why not?" ("Because it's insane" is not considered an automatic fail condition.) Be they magma waterfalls, huge castles, skyscrapers, great cathedrals, inverted pyramids, the Statue of Dwarferty (bonus points for magma eyes) - you can build anything!

While building a sacrificial temple to the deity of war - with working magma falls - is quite an undertaking, the techniques are mostly the same as those used to build a simple wall or tower, just putting one stone on top of or next to another - so we'll start there. 

(And it's recommended you do too - start with some smaller projects, a defensive wall, and then some simple archer towers to secure your area, and build on your experience from there. It's very easy and frustrating to build a complete disaster. But [[losing|fun]] is in the eyes of the player.)

Even though those projects listed below may seem hard, they are all simply a combination of walls, floors, ramps, and maybe the occasional magma pump.  We'll start you off with the basics, and leave you to have [[fun]] once you get started.

==Basic constructions==
{{main|Construction|Designations menu}}
These are the building blocks of every successful fortress.  In combination they can produce insane constructions, but even by themselves they are useful.  Ever built a bridge across a river?  Maybe built a wall to keep the goblins at bay?  Even just built an up/down stairway to get from level to level?  You've used basic constructions!

Note that many of the constructions you see here can also be dug out of natural rock by a [[miner]].  Constructions are different -- they are built by a [[mason]] from a [[stone]] or some other material ([[block|blocks]], [[log|logs]], etc.), rather than carved out of the earth.  Constructions can also be removed by any dwarf, using {{k|m}} - {{k|x}} to designate their removal.  When removed, they are converted back into the material from which they were built.  Their mined-out counterparts cannot be removed in that way.

===Wall===

[[Wall]]s are built by pressing the {{k|b}}, {{k|n}}, and {{k|l}} keys, in that order.  Walls are simply tiles where no one can walk, but can be walked on, provided you are one layer above the wall.  You can build floors off of them and they can be used to close in buildings that are built outside, or even can be used to wall in your fortress from the outside.  Each wall costs one unit of building material.

Walls are also formed by natural soil or stone that has been left behind (un-mined).  It is the default state of almost every tile in your fortress, until you get there and start making changes.

===Floor===

[[Floor]]s are built by pressing the {{k|b}}, {{k|n}}, and {{k|f}} keys in that order.  They can be walked on, but no constructions (e.g. walls, ramps, etc...) can be built upon them.  However, things such as beds and doors can be put upon floors.  Building a floor above an open tile outside will designate that tile inside,  so furniture could be placed there.  Each floor costs one unit of building material.

Floors are also left behind when you dig a tunnel ({{k|m}}) through natural soil or stone.

===Ramp===

[[Ramp]]s are built by pressing the {{k|b}}, {{k|n}}, and {{k|r}} keys in that order.  They can be used to get from level to level of your fortress and are similar to stairwells, but require an adjacent wall to support them.  If a floor is built on top of the Z level the ramp is placed on, the ramp will not be usable.  Each ramp costs one unit of building material.

Ramps may also be dug from natural soil or stone by designating an upward ramp ({{k|m}} - {{k|r}}) on the lower z-level, or by channeling ({{k|m}} - {{k|u}}) into it from the z-level above.

===Up/Down Stairway===

[[Stairs|Up/down Stairway]]s are built by pressing the {{k|b}}, {{k|n}}, and {{k|t}} keys in that order.  Up/Down stairs are most useful inside of buildings/fortresses that span multiple Z levels.  They are useful for replacing ramps in situations where space is more valuable.  They can easily be stacked upon each other to become something like a grand staircase.  Each up/down stairway costs one unit of building material.

Up/down stairways may also be dug out of natural soil or stone ({{k|m}} - {{k|t}}).

A notable difference in the current version is that up/down stairs can be constructed much more freely - even downward into an open space - so the bottom-up building techniques of older versions can be made more efficient.

===Fortifications===

[[Fortification]]s are made by pressing the {{k|b}}, {{k|n}}, and {{k|F}} keys in that order.  Your archers are able to shoot their bolts out of fortifications, but liquids and the ranged projectiles of your enemies can also pass through, making fortifications a very [[fun]] addition to your fortress.  However, used correctly, they can be rather useful and productive to your "successful" fortress.  Fortifications are used to protect your archers from the melee attacks of your enemies, while the archers shoot out their bolts unharmed.  However, another equally important feature of Fortifications is the ability to allow [[projectile]]s to pass through them, allowing you to build a catapult behind a fortification and then shoot it at a Goblin Hammerer without the loss of any dwarven life.  Each fortification costs one unit of building material.

Fortifications may also be carved (by an [[engraver]]) from smoothed natural walls.  Press {{k|v}} to designate a wall for smoothing, and then {{k|v}} - {{k|f}} to designate the smoothed wall for carving fortifications. Note that constructed fortifications do not include walkable floors above them, while carved fortifications do (including fortifications carved from constructed walls).

==Putting everything together==
There is a small learning gap from building a wall to building a giant statue of your mayor with fire in his eyes, but it is a small one and we will try to walk you through the process of a mega construction.  So, now that you know how to build basic construction components and their uses, we're gonna learn how to build a moderately simple mega construction, namely a pyramid.

===Pyramid===
How to Build a Pyramid in Dwarf Fortress: A step by step tutorial

(When something goes wrong, scroll down to the troubleshooting section.)

# You will need a moderately large outdoor area and many masons.  You'll also need lots of stone, so let those miners go to work.
# Make at least 3 [[wheelbarrow]]s.
# Build a mason's workshop in the middle of a stone stockpile.  Assign three wheelbarrows to the stockpile.  Set the stockpile to give to the workshop.  (If you want a pyramid made of a consistent type of stone, then set this stockpile accordingly.)
# Set the workshop to make stone blocks -- lots and lots and lots of them.  (You may want to run this job on repeat for a while.)
# Make a block stockpile close to where you'll build the pyramid.  (Optionally specify a single type of block.)
# Once you have some blocks, you're ready to start construction.  Press the {{k|b}}, {{k|C}}, and {{k|w}}  keys, in order to select the wall function.
# Use the {{k|u}}, {{k|m}}, {{k|k}} and {{k|h}} keys to shape a 1 by 10 wall.
# Position the wall shape where you want it to be built and press enter.
# Choose the materials you wish to build this wall out of.
# Press enter to confirm your selection.
# Repeat until you have laid out the outer walls of the bottom layer of your pyramid, leaving a hole to enter.
# In the very center, press the {{k|b}}, {{k|C}}, and {{k|u}} to build an up staircase.
# Confirm your selection of material to build this out of.
# Once that is built, on the layer above this (2nd layer) build an up/down stairway ({{k|b}}-{{k|C}}-{{k|x}}).
# Once that is complete, press the {{k|b}}, {{k|C}}, and {{k|f}} keys to build a floor on the layer above, changing your size with the {{k|u}}, {{k|m}}, {{k|k}} and {{k|h}} keys, making the floor of this level not quite extend to the walls of the 1st level.
# You will need to build around the up/down stairway in the middle.

In diagram, where W is a wall on the layer below, X is an up/down stairway, and + are where you want your wall on this level and * is where you want your floor, this is how it should look.  (Unfortunately, in the diagram, the pyramid seems to curve inwards and is not perfectly straight.  However, if you could picture the symbols in a grid pattern, you would see what I mean.)

{{diagram|spaces=yes|\
WWWWWWWWWW
W++++++++W
W+******+W
W+******+W
W+******+W
W+***X**+W
W+******+W
W+******+W
W++++++++W
WWWWWWWWWW}}

Notice how this level of the pyramid is slightly smaller than the ground floor. (Any questions, post on talk page.)

# On the third layer, build the initial up/down stairway 
# Build the floor around it.  This time, the ground area (Not including walls) will be only 6 by 6 tiles. 
# Build the walls around that

Using the key in the diagram above, the 3rd layer will now look like this:

{{diagram|spaces=yes|\
WWWWWWWW
W++++++W
W+****+W
W+****+W
W+**X*+W
W+****+W
W++++++W
WWWWWWWW}}

# Once more, notice how this layer is slightly smaller than the layer above it.
# Next, extend that up/down stairway into the 4th level
# Build the walls and floors around it

The 4th layer will now look like this:

{{diagram|spaces=yes|\
WWWWWW
W++++W
W+**+W
W+*X+W
W++++W
WWWWWW}}

# Note how there is only a 2 by two area of walkable tiles
# As we are now out of room, to close the pyramid off, we first build a down stairway on top of the layer containing the up/down stairway on the 4th layer.
# Build floors around that on the 5th layer.

The 5th layer will look like this, with the W representing the walls on the layer below, the U representing the downward stairway and the * representing a floor.

{{diagram|spaces=yes|\
WWWW
W**W
W*UW
WWWW}}

# The pyramid is now complete.

==Troubleshooting==

I have gathered a list of problems and solutions.  If the problem you are having is not listed here, ask about it in the talk section.

Problems:
===My dwarves do not construct the corner walls.===

This often happens if you designate an entire rectangle of walls all at once.  If your masons happen to build the non-corners first, they will have no route to the corners!

{{diagram|spaces=yes|\
[#000][#CCC]OO════O[#000][#CCC]O
O++++++O
║++++++║
║++++++║
║+++X++║
║++++++║
O++++++O
[#000][#CCC]OO════O[#000][#CCC]O}}

As the unconstructed walls are blocked by the built ones, and the dwarves can not walk around them, because they are a few levels above ground, they are unconstructed.  There will probably not be an error message for these walls not being constructed.  To fix this, use the {{k|d}} and the {{k|n}} keys in that order to designate that you want a construction removed.  You will want to deconstruct one of the constructed wall next to each of the unbuilt ones.

{{diagram|spaces=yes|\
[#000][#CCC]OO════O[#000][#CCC]O
[#000][#880]C++++++[#000][#880]C
║++++++║
║++++++║
║+++X++║
║++++++║
[#000][#880]C++++++[#000][#880]C
[#000][#CCC]OO════O[#000][#CCC]O}}

Once those walls are removed, your dwarves can build the unconstructed corner walls.  Then you simply fill in the gaps that you just created.

You can also prevent this situation from arising in the first place by designating the rectangle in pieces.  For example, if you designate only the north and south walls first, the corners will all be constructed; then you can designate the east and west walls.

===After that, my dwarves still do not build corner walls!===

Another cause for this is that there is no ground to walk on.  You will need to build a temporary [[floor grate]] as shown in the diagram below. Alternatively, you may use a constructed floor, but this will take longer to remove. Bridges are also effective, but require a bit more time.

{{diagram|spaces=yes|\
O═O[#000][#CCC]O
+++[#000][#CCC]#
+++O
+++O}}

Once that floor is built, your dwarves should build the corner wall.  Then, you will need to deconstruct the floor grate using the {{k|q}} and {{k|x}} keys.   Once that is complete, fill in the space with a wall.

===My dwarves keep getting stuck!===

This happens when they walk along the floor that is actually the wall below them, and then build a wall to block their exit point, as shown in the diagram.

{{diagram|spaces=yes|\
X+++++++O☺}}

(Note that other arrangements of this can occur, such as

{{diagram|spaces=yes|\
X++++
+
+
+
O
☺}}

and 

{{diagram|spaces=yes|\
XO☺++++++}}

In these situations, the walls on that level got built before the floors on that level.  What you must do is designate floors to be built to the dwarf so he can get back down.  In most situations, the dwarf built the wall in the correct place, so you would prefer not to deconstruct the wall(s), although that is also a suitable solution.    Ideally, the floors reach the trapped dwarves before they have too much [[fun]] up there....

{{diagram|spaces=yes|\
[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+[#000][#CCC]+
X+++++O++☺}}

==Putting the "Mega" in Mega Construction==
So, you have now created an empty, blocky, probably very mismatched pyramid with all sorts of unvaluable stone types.  In effect, you have created a construction.  We are now going to create a Mega Construction with all sorts of traps, and other enjoyable components.  If any of you want to see what a really nicely made pyramid looks like, visit  [http://i279.photobucket.com/albums/kk125/Frustratedsigh/Pyramid-1.jpg] or [http://i279.photobucket.com/albums/kk125/Frustratedsigh/PyramidwithObelisks-1.jpg].

===Traps===
[[Trap]]s are built with a [[mechanism]] and other materials including [[stone]]s, [[weapon]]s or [[cage]]s.  In a pyramid, traps are solely for aesthetic purposes, unless you have built this pyramid large enough to contain your entire civilization.  There are 6 things classified as traps, 3 of which I will teach you to use in your pyramid.

Three trap types:
# Stonefall trap
# Pressure plate
# Cage trap

Stonefall traps are the most basic.  Requiring only a mechanism and any type of stone to load, they are the easiest and cheapest trap to build.  The enemy simply walks onto the trap, triggering it, releasing the large stone upon itself.  These traps do minimal damage, usually only a small injury or two but are still useful in large quantities.  These are built by pressing the {{k|b}}, {{k|T}}, and {{k|s}} buttons in that order.  To enhance your pyramid, simply sprinkle one or two on each level.  The biggest disadvantage of stonefall traps is that once triggered, they have to be manually reset by a dwarf.  This leads civilian dwarves right to a wounded enemy.

Cage traps are only slightly more advanced than stonefall traps, requiring only a cage and a mechanism.  They capture any enemy that stands upon them.

Pressure plates are tiles that can be linked to building, that can (upon being stood on) trigger things like the release of the goblins in a cage, the release of magma or maybe something even more fun!  In pyramids, pressure plates are best used to release goblins within the pyramid.

===Sloped Walls===
Right now, you have a blocky pyramid, instead of a work of art like the Egyptians built.  To smooth out the sides of your pyramid, build an up ramp on the side of each wall, including the corners.

{{diagram|spaces=yes|\
▲▲▲▲▲▲▲▲▲▲▲▲▲▲
▲╔══════════╗▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲║++++++++++║▲
▲╚══════════╝▲
▲▲▲▲▲▲▲▲▲▲▲▲▲▲}}

Of course, you will also want to repeat this process on the higher floors.

===Tombs===

The actual purpose of a pyramid is, after all, the burying of nobles.  To place a [[tomb]] in the pyramid, use the keys {{k|b}} and {{k|n}}.  Choose where you want it, and assign it to a noble or a well-respected dwarf in your fortress.

== Megaprojects ==
{{main|Megaproject}}
Mega construction is used in the construction of megaprojects. See the [[Megaproject]] article for a list of megaprojects.

{{Category|Design}}
{{Category|Guides}}
[[ru:Mega construction]]