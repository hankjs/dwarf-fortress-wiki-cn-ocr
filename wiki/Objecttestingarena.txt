{{av}}
{{Quality|Exceptional|10:34, 2 February 2023 (UTC)}}
{{Distinguish|Megaproject#Colosseum|l1=arena created in fortress mode}}
[[File:testing_arena_v50_preview.png|thumb|270px|right|Layout of the classic arena, similar to arena in previous verisons.]]The '''object testing arena''' is a special game mode accessible through the main menu where the player can alternate between spawning [[creature]]s, manipulating objects and features such as the [[weather]] and [[temperature]]. It is a tremendously useful place, usable for testing [[modding|modded]] [[raws]], or determining which skills to train against which enemies... or you can just have some fun carnage by spawning 50 [[steel]]-clad [[Dwarf|dwarves]] and setting them on some unarmed [[Elf|elves]] for that combat log goodness. It's possible to save games in it, in order to continue testing from a previous session.

In this version of the game, there are three choices of arenas: small arena, forest and classic arena, with the last choice being the same arena from older versions of ''Dwarf Fortress''.

== Spawning creatures ==
[[File:many_creatures_v50_preview.png|thumb|172px|right|Many creatures packed into one area.]]The list of creatures can be seen with the {{key|k}} key - press {{key|c}} to create a creature, select the creature type, skills and equipment, and then press {{key|enter}}. Press {{key|Esc}} (or whatever you bound "leave screen" to) to cancel without creating the creature. You cannot delete creatures, but you can, however, press {{key|w}} then {{key|l}} (in the {{k|k}} menu) to create a stone wall, instantly killing anything on that tile. Creatures with the {{token|ARENA_RESTRICTED}} or {{token|DOES_NOT_EXIST}} tokens can't be spawned in the object testing arena, unless the aforementioned tags are removed from their raw files. Note that some creatures with no combat capabilities (such as [[vermin]]) cannot be spawned, regardless of having the aforementioned tokens or not. Additionally, many procedurally-generated creatures such as [[forgotten beast]]s or [[titan]]s are unavailable to be spawned.

=== Inventory and skills ===
While in the creature placement menu, it is possible to add skills to your creatures, such as the fighter skill, or weapons, ammo, and armor. Creatures unable to use the weapons given to them will drop them upon unpausing, but creatures such as dwarves will happily do so, as long as they at least have dabbling-rank in its associated skill. You can also set exactly how much of a certain item you want when you select it, by using the {{key|+}} or {{key|-}} keys, which is the only way to get a creature to hold more than one piece of ammo, as the arena lacks an option for spawning quivers or backpacks.

=== Conditions ===
A creature can be created with a unique condition from an [[interaction token|interaction]] by pressing {{key|u}} in the creation menu. In vanilla games, the available effects are the interactions of [[necromancer]]s, [[undead|animated corpse]]s, different ranks of [[dungeon guardian]]s, [[mummy|disturbed dead]], [[Mummy|accursed]], [[werebeast]]s and [[vampire]]s, including any modded interaction with a defined arena name.

=== Teams ===
It is possible to 'Team' creatures up by pressing {{k|s}} and {{k|d}} in the creation menu which is shown on the top left-hand side. There are 9999 teams (instead of 99 as in the previous versions), as well as "Independent", which is the default and acts as every creature for itself.

In this way, you can create simulated battles against beasts or enemies - for example, twenty sword-users versus twenty macemen - and analyze the battle from [[gamelog.txt]].  ([[Necromancer]]s and [[mummy|disturbed dead]] that are marked as Independent will '''not''' be at peace with the [[undead|zombies]] that they raise. This is not a bug, because arena independence overrides anything else.)

===Nature of conflict===
The [[level of conflict]] between creatures or alliances can be controlled in the main screen with the keys {{key|shift+C}} and {{key|c}}. The available settings are, from most lethal to least:

*{{DFtext|No Quarter|5:1}}
*{{DFtext|Lethal|4:1}}
*{{DFtext|Non-lethal|6:1}}
*{{DFtext|Brawl|3:1}}
*{{DFtext|Training|7:1}}
*{{DFtext|Horseplay|2:1}}
*{{DFtext|Encounter|7:0}}

[[Morale]] may also be switched on or off, by clicking the option at the right side of the screen.

== Spawning liquids and trees ==
From the loo{{key|k}}/create menu, press {{key|l}} to spawn a 7/7 unit of lava, or {{key|w}} to spawn 7/7 water on the currently selected tile. If you place water and then lava in the same tile, they will immediately form a 'Rough-hewn Rock Wall' (i.e. before you unpause), resulting in no spillage. However, placing lava and then water fills the tile with lava-hot water, which then instantly turns to steam upon unpausing. It is also possible to spawn rock walls in mid-air, usually causing a [[cave-in]]. You can place fluids in a tile that also has a wall in it; the result is a tile with both a wall ''and'' 7/7 units of the fluid you placed (water or lava). This combination behaves exactly the same as normal water without the wall would, except the area is still considered inaccessible for water to move through.

Multi-tile [[tree]]s are also available from the loo{{key|k}}/create menu, under {{key|t}}ree. Using the submenu on the right, you can select the species of tree and set its {{key|a}}ge. Pressing {{key|enter}} will spawn a tree at the cursor using the current settings. Trees can be placed anywhere, even a rock block floor or in ''mid-air'' (the latter will also cause a cave-in, amusingly replacing intermediate rock block floors with sand). Arena-created trees do not spawn with roots, nor is it possible to chop down a tree, though they can be burned by spawning lava, killing the tree.

== Fighting in the Arena yourself ==
Loo{{key|k}} at any creature, and press {{key|a}} to play as them, or {{key|ctrl+a}} to exit back to the main mode.
*The controls here are exactly the same as in [[adventurer mode]], except that attempting to {{key|a}} a [[corpse]] results in the corpse being [[butcher]]ed.

==Controlling the environment==
The arena's environment can be modified in-game by pressing {{k|w}}. From this screen, you can adjust Weather, Temperature, and Time. You can also press {{k|s}} to cover every map tile in snow, {{k|m}} to make everything muddy, and {{k|x}} to remove all mud and snow.

===Weather===
This section has 4 options, each of which can be set to various settings:
* Cumulus
** No cumulus clouds
** Scattered cumulus
** Many cumulus (rain)
** Cumulonimbus (rain)
* Cirrus (toggle)
* Stratus
** No stratus
** Altostratus
** Stratus (rain)
** Nimbostratus (rain)
* Fog
** No fog
** Thin mist
** Fog
** Thick fog

As expected, the options marked with "(rain)" will cause it to start raining.

===Temperature & Time===
The arena's temperature and time can be set to one of 13 settings, each:

* Dragonfire - {{ct|50000}}
* Magma - {{ct|12000}}
* Fire - {{ct|11000}}
* Scorching - {{ct|10080}}
* Hot - {{ct|10070}}
* Warm - {{ct|10050}}
* Cool - {{ct|10035}}
* Cold - {{ct|10020}}
* Subterranean - {{ct|10015}}
* Freezing - {{ct|9999}}
* Below freezing - {{ct|9968}}
* Deathly cold - {{ct|9850}}
* Absolute zero - {{ct|9508}}

------------

* Dawn (5:30am)
* Morning (8:00am)
* Late morning (10:30am)
* Noon (1:00pm)
* Early afternoon (2:00pm)
* Late afternoon (3:30pm)
* Early evening (5:00pm)
* Evening (6:30pm)
* Dusk (8:30pm)
* Night (10:00pm)
* Midnight (12:00am)
* Late night (2:00am)
* Early morning (4:00am)

==Modifying the Arena layout==
{{file|prefs/arena.txt|section=yes}}
The layouts of the default arena zones are stored in <code>data/init/arena.txt</code>, and can also be changed by manually placing your own file at <code>prefs/arena.txt</code>{{version|52.02}}; the location of the <code>prefs</code> [[Game folders and files|folder]] depends on the [[Settings#Portable_mode|portable mode setting]] (there is also a <code>data</code> folder there, but <code>data/init/arena.txt</code> will always be in the game installation folder). Modifications to these files will not change the dimensions of the arena; they can only change the initial tiles and fluids present. Files in both <code>data/init/</code> and <code>prefs/</code> are read when Dwarf Fortress starts, in that order, with the last value read for an option being used.

The arena is composed of 9 [[z-level]]s (including Z=0, from Z=-4 to Z=4) of 144 x 144 tiles; the contents of each tile are specified by a single character:

{| class="wikitable pre-table"
|- bgcolor="#ddd"
! Character
! Description

|-
| <pre>#</pre>
| [[Open space|Empty tile]] <sup>[1]</sup>
|-
| <pre>C</pre>
| [[Chasm]]

|-
| <pre>.</pre>
| [[Block]] [[floor]]

|-
| <pre>P</pre>
| [[Block]] [[wall|pillar/wall]]

|-
| <pre>R</pre>
| [[Block]] [[ramp]]

|-
| <pre>F</pre>
| [[Block]] [[fortification]]

|-
| <pre>+</pre>
| [[Water]] source <sup>[1] [2]</sup>
|-
| <pre>W</pre>
| 7/7 [[water]] <sup>[1]</sup>
|-
| <pre>w</pre>
| 7/7 [[water]] + upward [[ramp]]

|-
| <pre>L</pre>
| 7/7 [[magma|magma/lava]] <sup>[1]</sup>
|-
| <pre>l</pre>
| 7/7 [[magma|magma/lava]] + upward [[ramp]]

|-
| <pre>g</pre>
| [[Grass]] <sup>[3]</sup>
|-
| <pre>T</pre>
| [[Tree]] <sup>[3]</sup>
|-
| <pre>~</pre>
| [[Sand]] <sup>[3]</sup>
|-
| <pre>,</pre>
| [[Soil]] <sup>[3]</sup>

|}
<small>
# Tile will have no floor unless a pillar/wall is constructed on the z-level below.
# Only seems to work when placed on map edge; behaves identically to capital <code>W</code> otherwise.
# Only one type will be present, but it will be randomly selected each time you enter the Arena.
</small>

==Trivia==
*Due to how "teams" are handled in the testing arena, strange behaviors can occur when necromancers and mummies are resurrecting nearby deceased and detached body parts. For example, a necromancer revives the body parts of a dead, dismembered dwarf in an effort to aid itself in fighting, but because the dwarf was on the "independent" team (or just a different one from the necromancer), the body parts just end up attacking the necromancer that raised them. So said necromancer may end up killing what it resurrected, only to keep resurrecting what it just killed to fight it again, which can happen over and over in an endless loop - all due to the clashing of how the arena handles teams/sides and the necromancer's natural AI in raising the dead to help itself. 

{{Category|Interface}}
[[ru:Object testing arena]]