{{migrated article}}
{{Quality|Masterwork}}
{{av}}
{{old}}
: ''This is a detailed reference guide. For a beginner tutorial, see [[Quickstart guide]], see further [[tutorials]].''
:''[[Modding guide|Modding]] is not covered on this page.''

'''Fortress mode''' is the most popular of three modes in ''Dwarf Fortress'', with the other two being [[Adventurer mode]] and [[Legends mode]], often the mode implied when one talks about ''Dwarf Fortress''. Fortress mode is a construction and management simulation of a colony of dwarves. In fortress mode, you pick an [[embark]] location, and then assign your seven initial [[dwarves]] some starting [[Skill | skills]], equipment, provisions, and perhaps, [[animals]] to bring along. After preparations are complete and your hardy explorers [[embark]], they'll be faced with the fortress site you picked down to every little detail; from geologically appropriate stone types, to roaring waterfalls, to, for example, ornery [[Hippo | hippopotami]]. Rather than control individual dwarves, you design everything, and your dwarves will go about implementing your designs on their own.

== Goals ==
Fortress mode is considered a [[wikipedia:Construction_and_management_simulation_games|construction and management simulation game]]. This entails that few goals are imposed upon the player by the game. 

The most apparent goal is survival, as your endeavors at the chosen site will, [[Reclaim fortress mode|for the moment]], end if the last dwarf dies. With this comes the need to keep your dwarves happy, as unhappy dwarves will cultivate some very unhealthy (yet surprisingly [[Losing|Fun]]) habits like murdering their colleagues.

Another goal of sorts, programmed into the game, is creating a fortress that attracts the king/queen of your civilization. Therefore, players typically, but by no means necessarily, choose to expand into a thriving community with skilled [[Labor|workers]], [[military|battle-ready warriors]] and [[nobles]], creating ridiculous amounts of [[wealth|wealth]] like fine [[finished goods|crafts]], excellent armor, valuable [[furniture]], decorated with precious [[gem]]s, all the while protecting them from [[siege|foes]] with deadly [[trap]]s and a trained [[military]]. Avoiding imminent death also requires providing the dwarves with plenty of [[food]] and [[alcohol]], by way of [[farming|farms]] above and below ground, while [[clothing]] from [[leather]] or [[cloth]] will keep them happy.

Of course, every dwarf loves precious [[metal]]s, but the only way to find them is to [[mining|dig]]. Make sure you don't delve too greedily and too deep, for many creatures dwell in the [[caverns]] below...

== The world ==
To play ''Dwarf Fortress'' in fortress mode, you must generate a world that includes a dwarven civilization - see [[World generation]] for detailed instructions. After at least one world has been generated, you will be able to start the game. Only one game may be going on in a world at the same time.

=== Geographic features / Inhabitants / History ===
The main features of a world are [[biome]]s on the surface and [[stone layer]]s underground, some of which may contain [[aquifer]]s. Other surface features that are significant, but which aren't biomes, strictly speaking, are [[river]]s, [[volcano]]es, and [[cave]]s.  There are also [[cavern]]s and [[magma sea]]s everywhere underground which your dwarves will most likely encounter, but you can't see these on the world map, or on the local map, for that matter, until you dig into them. There may also be other [[Fun]] things underground that you can't see. You will have to find these on your own, if they exist.

Every playable world will be inhabited by various [[creature]]s, [[civilization]]s, [[night creature]]s, and [[megabeast]]s (including [[titan]]s and [[forgotten beast]]s) in addition to your dwarves. You may encounter all of these types of inhabitants at some point in the form of wildlife, invaders, or rampaging forces of nature.

Given that your world includes creatures and civilizations capable of independent action, it also has a history that is viewable in [[legends mode]], historical events showing up in [[engraving]]s and other artwork created by your dwarves. Historical dates are expressed in terms of the [[Calendar|dwarven calendar]].

You will also be making history as events occur in your fortress, and these events will be recorded for all time in the annals of your world, even if you'd rather that they not be. These events may later become the subject of various [[engraving]]s and [[decoration]]s created by your dwarves, or those in a later fortress.

== Embarking ==
{{Main|Embark}}
:''See also: [[Reclaim fortress mode]]''

[[File:FlowchartDF.png|thumb|250px|right|[[From Caravan to Happy Dwarves|From Caravan to Happy Dwarves]] &ndash; a flowchart showing approximately what sequence of actions most people will take after embarking.]]

Before starting to build a fortress, you must choose the embark location in the world, then assign skills and supplies to the seven dwarves on the expedition team you will embark with into that environment. This is the embarking process, and is a major subject on its own - see the [[Embark]] guide for all the details. Also see [[Starting build]] for more information on outfitting your expedition. After you embark, the real game begins.

== Gameplay user interface ==
{{Main|Interface}}
Your main view of the in-game world is a top-down view of a multi-layered environment.  You can move your view in the four main cardinal directions as well as up and down [[Z-level]]s (elevation) to see different layers. There is also a command menu that lets you issue commands that your dutiful dwarves will attempt to follow.

This section covers most of the screens and user interface elements used after embarking, at least in brief. It does not necessarily tell you how to accomplish every task you might need to, but instead just describes what you see on the screen and what various keystrokes do.

Later sections in this document and ''many'' other articles on this wiki help you tie all of this together by describing the sequence of actions needed to accomplish various things in the game; see [[Menu]] for a more detailed reference for the UI itself.

=== Common UI concepts ===
{{KeyConventions|4}}

=== Pausing and resuming ===
{| class="wikitable"|-| {{K|Space}}| Pause/Unpause the game|}

Entering all menus (except the {{K|s}}quads menu) will automatically pause the game, but if you want to pause or unpause the game without entering a menu use {{K|Space}}. You will see {{DFtext|*PAUSED*|3:3:1}} appear in the upper left corner of the window when the game is paused. Certain [[announcement]]s will also pause the game automatically and you will have to unpause it manually to proceed.

=== Main screen ===
{| class="wikitable"|-|  [[Image:Mouse-wheeldown.png|20px|Scroll mouse wheel down.]][[Image:Mouse-wheelup.png|20px|Scroll mouse wheel up.]] or {{K|[}} {{K|]}}| Zoom in and out('['and ']' must be set manually in the key bindings) |-| {{k|Tab}}| Toggle mini-map and command menu.|-| {{k|F11}}| Toggle fullscreen mode|}

The screen at the top level of the user interface hierarchy consists of the '''main map''', a '''command window''', and an '''overview mini-map''' area along with a few '''status indicators''' around the edge. While the main map is always visible at the top level of the UI, you can use the {{K|Tab}} key to show and hide the command window and overview map areas, giving you more space to view the main map if desired.

=== Options screen ===
{| class="wikitable"|-| {{K|Esc}}|
* Enter options menu (if at top level)
* Move back up one UI level (if not at top level)|}

Assuming you are at the top level of the user interface looking at the map, you can hit {{K|Esc}} to enter the options menu.

*{{DFtext|Save and return to title menu}} &ndash; Saves the game, unloads the fortress, and returns to the main menu screen. See [[saved game folder]].
*{{DFtext|Save and continue playing}} &ndash; Saves the game to a new folder, useful for backups.
*{{DFtext|Retire the fortress (for the time being)}} &ndash; Saves and ends your control of the fort, giving limited control to the game. Most of the fortress remains as is, with citizens, livestock, and most items continuing to exist. Not always available, such as during [[siege]]s. After it saves and returns to the main menu you may start a new game in any mode including to [[Reclaim fortress mode|unretire]] the fortress.
*{{DFtext|Abandon the fortress to ruin}} (or {{DFtext|Succumb to Invasion}}) &ndash; This permanently [[abandon]]s the fortress, saves the map to the world's data files for later use, and returns to the main menu. Once you abandon a fort, all of your dwarves leave the site, all of your livestock dies, and all items including corpses will be scattered around the map before it is saved. This is how you "give up" on a fortress. You might later [[Reclaim fortress mode|reclaim]] the fortress with a new group of dwarves or visit it with an adventurer in [[Adventurer mode]].
*{{DFtext|Quit without saving}}
*{{DFtext|Settings}} &ndash; [[Settings]] for video, audio, game, keybindings, [[announcement]]s, and [[difficulty]] options.
*{{DFtext|Return to game}} &ndash; Exits the options menu. You can also just press {{K|Esc}}.

=== Main map ===
[[File:bentgirder-embark.png|thumb|300px|Main map on the left, command window on the right.]]
[[Image:3_dimensions.png|right|300px]]
{| class="wikitable"|-| {{k|↑}} {{k|↓}} {{k|←}} {{k|→}} ( + {{k|Shift}})| Move map view around|-| {{k|1}} {{k|2}} {{k|3}} {{k|4}} {{k|6}} {{k|7}} {{k|8}} {{k|9}} (keypad)| Move map view around|-| {{k|<}} {{k|>}}| Move one [[Z-level]] up or down.|-| {{k|F1}}| Zoom to starting location (default [[#Hotkeys|hotkey]])|}
The main map window is what you will be looking at for the majority of the time. This is where all of the action happens.

While the play area itself is three-dimensional, the window is not; you can only view one [[Z-level]] at a time. You can change which Z-Level is currently displayed using {{k|<}} and {{k|>}}.

On the far right side of the screen is the '''depth bar''' showing you the approximate depth, below or above ground, of the current [[Z-level]] that the map is displaying. This indicator is relative to the surface, so it will change if you move the map around an area with a non-flat surface, even if you don't press {{K|<}} or {{K|>}}.

==== Map cursor ====
{| class="wikitable"|-| {{k|8}} {{k|2}} {{k|4}} {{k|6}} {{k|7}} {{k|9}} {{k|1}} {{k|3}} (keypad)| Move map cursor 1 tile|-| {{k|↑}} {{k|↓}} {{k|←}} {{k|→}}| Move map cursor 1 tile|-| {{k|Shift}} + direction key| Move map cursor 10 tiles|}

After entering a command that involves the map cursor ({{Raw Tile|X|6:0:1}}), you can use {{k|↑}} {{k|↓}} {{k|←}} {{k|→}} as well as the numeric keypad keys to move the cursor around in all eight directions. If you hold {{k|Shift}} while pressing one of these, the cursor will move 10 tiles instead of one, enabling you to move it more quickly.

=== Overview map ===
The overview mini-map shows a compact version of the entire available map area. This can be useful especially if your embark zone is very large. After the fortress has settled into certain areas of the map, its utility decreases and it can be hidden with {{K|Tab}} to provide more space for the main map.

A cursor that looks like {{Raw Tile|X|6:0:1}} on the overview map shows approximately what part of the map you are viewing in the main map window. Parts of the map inhabited by dwarves will be highlighted in blue.

=== Status indicators ===
In the upper left corner of the screen, you may see some '''report flags''' indicating that new combat-related [[Reports]] have been generated. Some common flags are:

:{{Tile|C|4:7:1}}: new [[combat]] report available
:{{Tile|H|2:7:1}}: new [[Ambusher#Hunting|hunting]] report available
:{{Tile|S|3:7:1}}: new [[sparring]] report available

Press {{K|r}} to view the new reports in the [[Reports#Combat|reports screen]]. Once you do so, the flags will be reset.

There is also an '''idle counter''', usually in the upper right, indicating how many dwarves are milling around uselessly, in need of something productive to do.

An '''[[FPS]] (Frames Per Second) counter''' may also be present on the screen if it has been enabled. It is disabled by default. See [[Frames per second]] for more information on what this counter means, as well as how to enable/disable it.

=== Command window ===
[[File:MainMenu.png|The command window.|frame]]
This is where key menus and most of the textual information about tiles and buildings is displayed. You can toggle it between single width, double width, and hidden using {{K|Tab}}. The double-width option is particularly useful when lines of text are too long to fit. Once you become familiar with the UI you may want to hide it completely; it will reappear as needed when you activate a command.

The most important interfaces that use the command window are listed below. Many of these encompass a wide variety of functionality so they will not be fully described here. See the linked articles for more details on how they are used.

== Your dwarves ==

Your [[Dwarf|dwarves]] are one of the creature types who implement your designs in-between periods of drinking, eating, partying, drinking again, sleeping, and entertaining themselves. While you do not have full control of your dwarves, you have more control over them than any other creatures. Be aware that it is not necessarily always the case that a dwarf is friendly; [[Insanity|insane]] dwarves, [[Werebeast|weredwarves]] or [[Vampire|vampires]] are anything but.

For a comprehensive reference, Reddit user DarxusC has done research on the minimum requirements to keep dwarves alive for long periods of time [https://www.reddit.com/r/dwarffortress/comments/cvdssa/a_video_showing_how_little_is_needed_to_survive/ here].

=== Eating, drinking, and sleeping ===
Dwarves need [[food]] to eat, [[alcohol]] to drink (water is a poor substitute), and time to [[sleep]]. If only one of these is available, it better be [[alcohol]]; while water will keep dwarves alive, they will actually work more slowly and get unhappy thoughts (see below) if they don't get much alcohol to drink.

Dwarves will also get unhappy thoughts if forced to eat a single type of food or drink a single type of alcohol all the time, so variety is also important. Dwarves will also get unhappy thoughts if forced to sleep on the floor.

=== Happiness ===
While going about their day, dwarves will get happy and unhappy [[thought]]s, depending on what sorts of things happen to them. This will nudge their happiness levels up or down each time one such event occurs to them. If they become too unhappy, they may throw [[tantrum]]s, or go completely [[Insanity|berserk]], killing and destroying things.

=== Children and immigration ===
Periodically, new dwarves from the outside world will [[Immigration|migrate]] to your fortress, drawn by tales of, and looking to share in, your wealth and success. Female dwarves will also get pregnant and have [[children]], if they are [[Marriage|married]] to a male dwarf.

=== Jobs, labors and skills ===
Any adult dwarf can perform any [[labor]] even if they have no [[skill]] in that area. Unskilled dwarves will simply be slow and not very good at what they are trying to do, but, with practice, dwarves will acquire skill, and become faster and better at their jobs. Lack of practice for long periods leads to skill "rust".

=== Nobles ===
[[Noble]]s are dwarves who have special positions within your fort. Some of these are appointed, such as your [[broker]] and [[bookkeeper]], but others, such as the [[mayor]], are essentially forced on you by conditions in the game. See the main article on [[noble]]s for more information.

=== Death ===

Assuming they somehow manage to avoid starving, dehydrating, freezing, drowning, burning, falling, being crushed, or otherwise suffering fatal [[wound]]s or [[soap|infections]], your dwarves will inevitably [[Death|die]] of old age. Unfortunately, they are a bit picky about how they are [[Coffin|buried]] or otherwise [[Memorial|memorialized]], and they will [[Ghost|cause trouble]] if they are unsatisfied with their remembrance. Corpses lying around can also pose a hazard if there are [[Necromancer|necromancers]] in the area.

A [[Healthcare]] industry might help your wounded dwarves postpone death.

== Digging ==
{{Main|Mining}}

Digging is an essential part of building a fort. There are several reasons you might want to dig, such as searching for various stone types, ores and gems, or simply to create the basic tunnels and rooms in your fort.

All of the digging operations are considered [[Mining]]. Even if your goal is simply to dig out a passage and you don't care about extracting ore, your miners will be generating [[stone]] as a byproduct unless they are digging through [[soil]]. See [[Stone management]] for ways to deal with all the unwanted stone.

== Stockpiles ==
{{Main|Stockpile}}

'''Stockpiles''' are where [[dwarf|dwarves]] will store items of various types. Dwarves with the corresponding "[[hauling]]" job on will seek out items that aren't already on a stockpile that accepts them and carry them to the appropriate stockpile. See the main [[Stockpile]] article for detailed information on setting up stockpiles.

== Rooms, furniture, and portals ==

To remove one of these, Click on the furniture Item, the press the remove build icon . This will mark the item for removal and a hauling job will be queued. Eventually a dwarf will show up and haul the item off to a [[stockpile]] if one exists.

=== Furniture ===
{| class="wikitable"|-| {{Menu icon|b|f|b|sep=-}}| place Bed|-| {{Menu icon|b|f|r|sep=-}}| place Chair or Throne (seat)|-| {{Menu icon|b|f|t|sep=-}}| place Table|-| {{Menu icon|b|f|h|sep=-}}| place Chest or Container|-| {{Menu icon|b|f|n|sep=-}}| place Cabinet|-| {{Menu icon|b|f|x|sep=-}}| place Burial Receptacle (coffin)|-| {{Menu icon|b|f|l|sep=-}}| place Memorial Slab|-| {{Menu icon|b|f|u|sep=-}}| place Statue|-| {{Menu icon|b|f|T|sep=-}}| place Traction Bench|-| {{Menu icon|b|f|o|sep=-}}| place Book Case|-| {{Menu icon|b|f|y|sep=-}}| place Display (Pedestal)|-| {{Menu icon|b|f|p|sep=-}}| place Offering Place (Alter)|-| {{Menu icon|b|f|i|sep=-}}| place Instrument |}
Assuming that dwarves have already made a piece of [[furniture]], they can install it somewhere using one of these commands.

=== Defining rooms ===
{{Main|Zone}}

Areas can be defined as a [[zone|room]] using {{Menu icon|z|sep=-}} (zones), some rooms may require specific pieces of furniture to function properly. The zones menu can also be used to undefine rooms, with or without removing the associated furniture.

=== Doors and hatches ===
{| class="wikitable"|-| {{Menu icon|b|p|r|sep=-}}| place door|-| {{Menu icon|b|p|h|sep=-}}| place floor hatch|}
These commands allow you to place already created [[door]]s and [[hatch cover]]s assuming that you have an adjacent wall.

== Constructions ==
{{Main|Construction}}

[[Construction]]s are features that are built in place, rather than carved out of existing rock. Constructions are how you build above-ground structures or structures in any other place where there's no rock or soil to carve them out of.

Constructions are usually built out of, and thus require, [[stone]] or [[wood]], but you can also use a variety of materials (such as metal) to build them. Possible constructions include [[Floor]]s, [[Wall]]s, [[Stair]]s, [[Ramp]]s, and [[Fortification]]s. Some constructions may also require to be created in a workshop first before being able to place them down, such as [[Grate]].

=== Walls, floors, and stairs ===
{| class="wikitable"|-| {{Menu icon|b|n|sep=-}}| build Constructions submenu|-| {{Menu icon|b|n|l|sep=-}}| build Constructed [[Wall]]|-| {{Menu icon|b|n|f|sep=-}}| build Constructed [[Floor]]|-| {{Menu icon|b|n|r|sep=-}}| build Constructed upward [[Ramp]]|-| {{Menu icon|b|n|t|sep=-}}| build Constructed [[Stair]]|-| {{Menu icon|b|n|b|sep=-}}| build a [[bridge]]|-| {{Menu icon|b|n|o|sep=-}}| build Paved [[road]]|-| {{Menu icon|b|n|O|sep=-}}| build Dirt road  |-| {{Menu icon|b|n|F|sep=-}}| build a [[Fortification]]|-| {{Menu icon|b|n|G|sep=-}}| build a Wall [[grate]]|-| {{Menu icon|b|n|g|sep=-}}| build a Floor grate|-| {{Menu icon|b|n|M|sep=-}}| build a Vertical bar|-| {{Menu icon|b|n|m|sep=-}}| build a Floor bar|-| {{Menu icon|b|n|y|sep=-}}| build a Glass [[window]]|-| {{Menu icon|b|n|Y|sep=-}}| build a Gem window|-| {{Menu icon|b|n|p|sep=-}}| build a [[Support]]|-| {{Menu icon|b|n|k|sep=-}}| build a [[Track]]|-| {{Menu icon|b|n|K|sep=-}}| build a Track stop|-|}

Walls, Floors, and Stairs are removed with the {{Key|m}}ining menu and selecting {{Key|x}} Remove Construction. Bridges and roads are removed by selecting them and clicking the button in the top right corner.

=== Bridges ===

A [[Bridge]] is not only used to cross rivers or chasms, but can also be used as a large door when built as a drawbridge. Such use requires that a [[Lever]] be linked to it in order for dwarves to control its open or closed state.

=== Roads ===

[[Road]]s are most commonly used to give [[caravan|caravans]] a reliable path to your fortress from the map's edge, though they don't really require one. A paved road is much like a [[floor]] except that it requires fewer raw materials per tile to build. A dirt road requires no materials to build, but deteriorates over time.

=== Grates and Bars ===
[[Grates]] and bars are used to stop creatures for passing through, while still allowing liquids such as water and magma to. Bars are similar to grates, but they are made of metal instead of rock or wood and don't have to be built in a workshop first.

== Trading ==
{{Main|Trading}}

When you want to obtain things not available on your map, and you don't want to just kill people to get them, [[Trading]] is the way to go about it. See the main article for everything you ever wanted to know about legitimately and non-violently obtaining things from other creatures.

== Military and combat ==
{{Main|Military}}
:''See also: [[Military interface]]''

The '''military''' is one of the most important aspects of a successful fortress. Even with many [[trap]]s, [[bridge|drawbridges]] and [[magma|other defenses]], your military will still need to fend off [[goblin]] [[siege]]s, [[megabeast]]s, [[titan]]s, and fiendish [[Giant cave spider|underground]] [[Forgotten beast|beasties]]. Using a combination of [[squads|squad orders]] and [[scheduling]], you can set up an elaborate offensive, defensive, or balanced military structure for your [[equipment|well-equipped]] [[soldier]]s to follow. Turning your dwarves from [[immigration|useless migrants]] into bloodthirsty killing machines never hurts (unless you're the enemy).

Setting up a military is a huge subject in and of itself, so check out the [[Military|main article]] on it and the [[military interface]] guide.

== Hospitals and healthcare ==
{{Main|Healthcare}}

Normally your dwarves do just fine assuming they get enough food and alcohol, but sometimes they get wounded. When this happens they can benefit from an efficient [[Healthcare]] system.

== Burrows ==
{{Main|Burrow}}

'''Burrows''' are optional user-defined areas in your fort where selected dwarves live and work. Dwarves will only use workshops, dig walls, use rooms, etc. in burrows they are assigned to, though dwarves not assigned to any burrow will still use workshops etc. even if they are located in a burrow assigned to some other dwarves.

Burrows are by no means required, but are useful when you want to restrict certain dwarves to certain areas of the map.

== Macros ==
{{Main|Macros and Keymaps}}

'''Macros''' allow recording sequences of keystrokes and "playing" them back into the user interface as desired. Since the game often requires using a lot of repetitive keystrokes, this can sometimes make life much easier. See the main article for full information.

== Reference sheet ==
A quick reference guide on fortress mode in DF can be found [https://www.dropbox.com/sh/8akafeuqfsxth7t/U-zOsO7pNr here.] '''Credit to spongemandan on reddit.com'''

It includes a reference sheet on the military, stone, agriculture and a summary reference sheet. 

{{Getting Started}}
{{Category|Fortress mode}}
{{Category|Guides}}
{{Category|Interface}}
[[ru:Dwarf fortress mode]]
[[zh:Fortress mode]]