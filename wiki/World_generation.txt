{{Quality|Exceptional}}
{{av}}
[[File:worldgen_small_steam.png|thumb|250px|right|A standard small-sized world.]]

To begin playing, you must first '''generate a world''' to play in. World generation can take a long time and may seem like a nuisance, but it is actually the heart of the game.  

While you wait for the counter to finish, an entire fantasy world with unique geography, history, and even language is created. Entire civilizations rise, wage war, fall, rise again, and fall. Countless characters, each with a unique appearance and personality, live their lives, some of them calmly, while others go out and influence history. The world's complexity could rival the works of Tolkien himself. These [[World activities|activities continue]] even after world generation, as you play the game. ''Dwarf Fortress'' is not only a game, it is a gigantic fantasy world simulator. [[Fortress mode|Fortress]] and [[adventurer mode|Adventurer]] modes allow you to influence a tiny part of that tale and write ([[Legends|or read]]) your own chapter; one chapter in an enormous bookshelf.

== Basic world generation menu ==
{{Dual image
|premium=File:DFwikiBasicWorldGenSteam.png
|classic=File:BasicWorldGen.png
|width=640px
|caption=World gen menu
}}

The basic world generation menu looks like this:

=== World size ===
This controls the size of the world map.   Using basic world generation, the size options are:

* Pocket (17×17 region tiles)
* Smaller (33×33)
* Small (65×65)
* Medium (129×129)
* Large (257×257)

Each region tile corresponds to 16×16 local area blocks of 48×48 [[tile]]s each.

Setting this to a larger value will cause world generation to take longer, as more events will need to be calculated per step. Selecting bigger worlds will reduce the [[Frames per second|framerate]] (update speed) of the game in fortress mode.{{verify}}

{| border="1" cellspacing="0" cellpadding="5" style="text-align:center;"
|-
!
!width="80"| Pocket
!width="80"| Smaller
!width="80"| Small
!width="80"| Medium
!width="80"| Large
|-
! [[Forgotten beast|Forgotten beasts]]
| 12
| 27
| 75
| 243
| 867
|}

=== History length ===
[[File:history_gen_steam.gif|thumb|right|278px|Animation of a pocket world's land and history being developed.]]This is the (maximum) length of pre-generated history. The number of years for the currently selected length will be shown in the lower right. A longer history allows more time for civilizations to grow, attack each other, and starve to death before the player can start playing. It also determines the amount of time that [[megabeast]]s will have to roam and kill things, get killed, etc. The longer the history, the more historical events will be generated by the time gameplay begins.

Note that history generation can be interrupted and the world saved far short of the selected history value. (Players might choose to do so if they are trying to reach a certain [[Calendar#Ages|age]], if they want to embark near a [[Tower (necromancy)|tower]], or if worldgen has slowed to a crawl, for instance). The actual length of history generation determines the details of the world; the history configuration setting only establishes a maximum year at which generation will stop automatically.

Longer histories will cause world generation to take longer, both because there are more years of events and because there tend to be more events in subsequent years. Conversely, shorter histories will take much less time to generate, but may limit some features (civilization size, sites, knowledge, historical artifacts, and necromancer towers).  Longer histories will also increase the number of abandoned (sacked) towns and fortresses, which can matter for adventure mode, but conversely, doesn't matter that much for fortress mode. The recommended values for worlds you plan to use for adventure mode are Short or Medium.

History will still progress after world generation, concurrently with normal gameplay, but this will, of course, be much slower (around two weeks per session start, in either fortress or adventurer mode). Therefore, it is recommended to set the history length so that the number of sites, megabeasts, and historical events is roughly what one wants it to be during gameplay. During play, the world and its history will continue to develop, but it is unclear to what degree that corresponds to regular world-gen.

The youngest world possible to generate is 2 years old. This can be done through custom world-gen parameters. For more information on the history aspect of the game, see [[Legends]] and [[Calendar#Ages|Ages]].

=== Number of civilizations ===
This controls the number of distinct civilizations that exist in a world.  Civilizations are [[Dwarf|dwarves]], [[human]]s, [[goblin]]s, [[kobold]]s and [[Elf|elves]].  It should be noted that this refers to different kingdoms of the same races, where a smaller number of civilizations (smaller than 5 - 7) may exclude one or two races from your world, but fewer civilizations will reduce history generation time, while larger numbers of civilizations would increase history generation time and make historical events happen much more often.

The maximum amount of civilizations is affected by the world size. At higher numbers (> 40) humans, kobolds and elves are more frequent than dwarves and goblins.
 
{| border="1" cellspacing="0" cellpadding="5" style="text-align:center;"
|-
!
!width="80"| Pocket
!width="80"| Smaller
!width="80"| Small
!width="80"| Medium
!width="80"| Large
|-
! Very Low
| 3
| 4
| 6
| 8
| 10
|-
! Low
| 4
| 6
| 9
| 13
| 20
|-
! Medium
| 5
| 9
| 14
| 24
| 40
|-
! High
| 7
| 13
| 24
| 44
| 80
|-
! Very High
| 10
| 20
| 40
| 80
| 160
|}

=== Maximum number of sites ===
This affects the maximum number of [[Advanced_world_generation#Site_cap_after_civ_creation|new sites]] such as [[town]]s, [[hamlet]]s, [[forest retreat]]s, etc. existing civilizations can expand to during world generation combined. New sites increase the maximum amount of members of the civilization founding the site. High site numbers increase the duration of history generation by a huge amount of time. With very low site numbers, only the civilization's home settlements may exist after a few years of history with a high probability of getting eradicated by some event. Turning this up is advised for adventure mode games.

The total amount of sites is affected by the selected world size.

{| border="1" cellspacing="0" cellpadding="5" style="text-align:center;"
|-
!
!width="80"| Pocket
!width="80"| Smaller
!width="80"| Small
!width="80"| Medium
!width="80"| Large
|-
! Very Low
| 4
| 17
| 66
| 260
| 375
|-
! Low
| 13
| 51
| 198
| 780
| 1125
|-
! Medium
| 18
| 68
| 264
| 1040
| 1500
|-
! High
| 27
| 102
| 396
| 1560
| 2000
|-
! Very High
| 36
| 136
| 528
| 2000
| 2000
|}

=== Number of beasts ===
This controls the number of [[megabeast]]s, [[semi-megabeast]]s and [[titan]]s that exist at the beginning of the world. They can later die (get killed) due to historical events, so the longer the history, the more likely some of them will die. The number of beasts does not appear to impact how often your fortress will be attacked by beasts in [[fortress mode]]. In [[adventure mode]], it means it will be easier to find more megabeasts. If set very low, then you may actually run out of beasts during a game.

Since beasts can attack civilizations, more beasts may reduce the population of the world a little bit. The total amount of beasts is affected by the selected world size:

{| border="1" cellspacing="0" cellpadding="5" style="text-align:center;"
|-
!
!width="80"| Pocket
!width="80"| Smaller
!width="80"| Small
!width="80"| Medium
!width="80"| Large
|-
! Very Low
| 0 / 1 / 0
| 0 / 1 / 0
| 2 / 4 / 1
| 9 / 18 / 4
| 37 / 75 / 16
|-
! Low
| 0 / 1 / 0
| 0 / 1 / 0
| 3 / 6 / 2
| 13 / 27 / 6
| 56 / 112 / 24
|-
! Medium
| 1 / 2 / 1
| 1 / 2 / 1
| 4 / 9 / 3
| 18 / 37 / 9
| 75 / 150 / 33
|-
! High
| 1 / 3 / 1
| 1 / 3 / 1
| 6 / 13 / 4
| 27 / 55 / 13
| 112 / 225 / 49
|-
! Very High
| 2 / 4 / 2
| 2 / 4 / 2
| 8 / 18 / 6
| 36 / 74 / 18
| 150 / 300 / 66
|}
*Read numbers as: Megabeasts // Semi-megabeasts // Titans

=== Natural savagery ===
Increasing this value increases the number of [[Surroundings#Savage|savage]] [[biome]]s in the world. In short, this means that more areas are likely to have aggressive animals which may try to kill dwarves immediately upon embark, and attack adventurers more often while traveling.

New players may want to just leave this at the Medium setting (which isn't that hard) or set it lower. Turn this up to make the game more [[losing|fun]].

=== Mineral occurrence ===
This is a rather important parameter, new players should probably leave it at ''everywhere''. It determines the how often ores and gems appear in an area, including wherever you try to build a fortress. It also determines the types of metals that [[civilization]]s have access to, which can limit types of items that are available at embark preparation, [[adventure mode]] character creation, and in most generated sites. See [[Advanced_world_generation#Mineral_Scarcity|Mineral Scarcity]] for more details.

== The generation process ==
Once you're satisfied with your parameter selections, click {{DFtext|Create world|7:2:1}} to proceed.

The screen will show something like this:

[[File:worldgen_anim_steam.gif]]

The name of the world will be randomized in basic world generation mode. The Pause button will not immediately stop the simulation, since the game will only pause at the end of a year; to ensure that the game registers the pause request, click and '''hold''' the button until it pauses.

=== Rejections ===
{{main|World rejection}}
You may notice that during various phases of the world generation process, worlds will be rejected, leading to the rejection count going up and the process starting over. This happens because certain factors, such as the number of mountain tiles, can't be determined ahead of time by the generation process. Instead, worlds are generated with parameters which are likely to produce worlds that can support a required number of mountains, and are then checked to make sure they meet the criteria. For example, the random generation of the topography of the land may result in too few high-elevation areas to place mountains.

In practice, you don't need to worry about this for basic world generation, because the preset hidden values that determine acceptable criteria are designed to decrease the chance of rejections, but certain combinations of basic parameters (especially with very large worlds) may make it harder for the process to generate "acceptable" worlds. Basically, what this amounts to is that world generation will just take longer for certain parameter selections that are more difficult for the generator to satisfy.

=== Map generation ===
[[File:resources_worldgen_steam.png|thumb|320px|right|Location and resources section of the screen.]] First ''Dwarf Fortress'' generates the map topography. This process is generally much faster than history generation (unless you've specified parameters that lead to constant map rejections).

In an interview{{cite|gamedeveloper|https://www.gamedeveloper.com/design/q-a-dissecting-the-development-of-i-dwarf-fortress-i-with-creator-tarn-adams}}, [[Main:Toady One|Toady One]] described map generation:

:"It allocates the memory for the map. Then it chooses what sort of pole (e.g. north, south) it is going to have (or respects the parameters fed by the player, throughout.) The basic map field values (elevation, rainfall, temperature, drainage, volcanism, wildness) are seeded along a grid of variable size, respecting various settings (oceans, island sizes, other variances, etc.), and then filled in fractally. The poles vary the temperature, and it selects some points for the highest peaks. Here it does a first pass to see how it is doing, and attempts to adjust some altitudes to fit the map within the desired parameters if it missed. The world can be rejected at this point if it is unfixable, and it tries again.

:The first derived field, vegetation, is then set based on elevation, rainfall, temperature, etc., and it tests for [[biome]] rejections if the map's biomes don't satisfy the ranges set in the parameters. The mid-level elevations are smoothed at this point to make more plains areas, and volcanoes are placed respecting the hot spots in the volcanism field.

:Then we enter the erosion and river stage. Small oceans are dried out, and it locates edges of mountain sides where it can run test rivers. It also places the camera on one of these so the player can watch the process. Many fake rivers flow downward from these points, carving channels in the elevation field if they can't find a path to the sea. Extreme elevations differences are often smoothed here so that everything isn't canyons. Ideally we'd use mineral types for that, but we don't yet. Lakes are grown out at several points along the rivers.

:Elevations are smoothed again from the mountains down to the sea, and the peaks and volcanoes do some local adjustments. Now that the elevations are finalized, it makes adjustments to rainfall based on rain shadows and orographic precipitation. Temperatures are reset based on elevation and rainfall and the dampening effects of forests, and it uses the new values to set the vegetation level one final time. Salinity values are set for the ocean and tiles neighboring the ocean.

:Now that everything has settled down, we can detect the limits of the final biome regions and give them names and their own identity. We also add the geological layers and the underground layers here, though the geological stuff should really be earlier, as previously mentioned. There's a final verification process against the parameters here, to make sure it hasn't drifted too far afield from what the player wanted. Once that's done, it generates the initial wildlife populations in each region, and sets some weather variables."

=== History ===
After generating the world, ''Dwarf Fortress'' will generate a history for that world, tracking civilizations, sites, populations, and other events. This can take a ''very'' long time for large, heavily populated worlds with very long, 2,000-year histories. History generation can be interrupted and the world saved before reaching the maximum year selected on the configuration menu.
  
In an interview{{cite|gamedeveloper}}, [[Main:Toady One|Toady One]] described history generation:

:"History itself can begin at this point. Civilizations and caves are placed. It's a bit complicated to go into what happens after that, but the basic idea is that there's a giant zero-player strategy game going on with somewhat loose turn rules and bad AI (but thousands of agents), and history is just a record of that. Procedurally generating stories by recording a log of a simulation is a valid enough approach, though it has drawbacks, of course. It's a lot of work, you need to do post-processing or investigation to find any good moments you'd like to highlight, and if you don't have enough dynamics and mechanisms, the output can be boring (in any number of ways.)"

=== Finishing ===
Once everything is complete, you can take a look around using middle mouse or the {{k|wasd}} [[controls|keys]], {{k|Shift|wasd|sep=+}} keys will move farther. If you find yourself confused about what all the things actually are, check out the [[map legend]]. At this point you can either '''Play now''' to use the world immediately, or exit to the main menu; both will save the world to disk.

Unfortunately, the post-generation-process viewer doesn't give you a way to view much information about the world, so unless you really hate the look of the map or something, you probably want to just save the world and load it up in [[Legends]] mode to view more information.

The [[Advanced_world_generation#Seed_notes|seeds]] used when generating the world are logged in [[gamelog.txt]].

== Getting more advanced ==
At first you will probably be satisfied with basic world generation, but later you may find that you want to create worlds with specific, more extreme conditions - check out the documentation on [[advanced world generation]] for help with this.

== See also ==
* https://df-walkthrough.readthedocs.io/en/latest/tutorials/generating-a-world.html

== Trivia ==
* World generation is where [[Main:Toady One|Toady]] invests most of his time, this is the [http://www.moma.org/collection/works/164920 piece of art] that makes ''Dwarf Fortress'' unique enough for the Museum of Modern Art in New York City.
* The maximum size of the world is comparable to that of the state of Minnesota.
* On the 86th rejected world, an error report will appear, with four options, this is in reference to the term "86ing" something, which is defined in the Urban Dictionary as "To remove, end usage, or take something out or away." <sup>[http://www.urbandictionary.com/define.php?term=86]</sup>

{{D for Dwarf}}
* It is universally known that the world is flat. Anyone who says otherwise has to be [[Unfortunate accident|treated with magma]] (''or simply is the sort of [[Elf|hippie]] whose attitude in such matters would require such treatment, anyway'').

{{World}}